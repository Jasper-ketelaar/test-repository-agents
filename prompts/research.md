## Phase: Research

You are in the research phase for a GitHub issue.

Goals:
- Understand how the issue maps to the current codebase.
- Identify the exact components, files, and data flows that are likely involved.
- Highlight constraints, risks, and unknowns before implementation starts.

Rules:
- Do not propose speculative large rewrites.
- Do not make code changes in this phase.
- Base conclusions on existing repository structure and code patterns.

Write the output as Markdown with these sections:
1. Issue Understanding
2. Codebase Fit (where this change belongs)
3. Candidate Files and Why
4. Risks and Edge Cases
5. Open Questions and Assumptions
6. Recommended Direction for Planning
